{"remainingRequest":"/Users/qingfeng/my-vuepress/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qingfeng/my-vuepress/node_modules/vuepress-theme-reform/components/Tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qingfeng/my-vuepress/node_modules/vuepress-theme-reform/components/Tags.vue","mtime":499162500000},{"path":"/Users/qingfeng/my-vuepress/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qingfeng/my-vuepress/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/qingfeng/my-vuepress/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qingfeng/my-vuepress/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcnRpY2xlIGZyb20gIkB0aGVtZS9jb21wb25lbnRzL0FydGljbGUudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFydGljbGUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmZvOiBbXSwKICAgICAgdGc6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGluZm9zKCkgewogICAgICByZXR1cm4gdGhpcy5pbmZvLmZpbHRlcigKICAgICAgICB2ID0+IHYuZnJvbnRtYXR0ZXIudGFncyAhPSBudWxsICYmIHYuZnJvbnRtYXR0ZXIudGFncy5sZW5ndGggPiAwCiAgICAgICk7CiAgICB9LAogICAgdGFncygpIHsKICAgICAgLy/moLjlv4Pku6PnoIHvvIzmlbTlkIhtYXJrZG93buS4rXRhZ3PnmoTmlbDnm64KICAgICAgbGV0IGFsbFRhZ3MgPSBbXTsKICAgICAgdGhpcy4kc2l0ZS5wYWdlcy5mb3JFYWNoKHYgPT4gewogICAgICAgIGlmICh2LmZyb250bWF0dGVyLnRhZ3MpIHsKICAgICAgICAgIGFsbFRhZ3MucHVzaCh2LmZyb250bWF0dGVyLnRhZ3MpOwogICAgICAgIH0gZWxzZSBpZiAodi5mcm9udG1hdHRlci50YWcpIHsKICAgICAgICAgIGFsbFRhZ3MucHVzaCh2LmZyb250bWF0dGVyLnRhZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgYWxsVGFncyA9IGFsbFRhZ3Muam9pbigiLCIpLnNwbGl0KCIsIik7CiAgICAgIGxldCBmbGF0VGFncyA9IEFycmF5LmZyb20obmV3IFNldChhbGxUYWdzKSk7CiAgICAgIGxldCBhbGwgPSBbCiAgICAgICAgewogICAgICAgICAgdGFnOiAi5YWo6YOoIiwKICAgICAgICAgIG51bWJlcjogdGhpcy4kc2l0ZS5wYWdlcy5maWx0ZXIodiA9PiB2LnRpdGxlKS5sZW5ndGgKICAgICAgICB9CiAgICAgIF07CiAgICAgIHJldHVybiBmbGF0VGFncy5yZWR1Y2UoKHJlcywgdikgPT4gewogICAgICAgIGxldCBvID0ge307CiAgICAgICAgby50YWcgPSB2OwogICAgICAgIG8ubnVtYmVyID0gYWxsVGFncy5maWx0ZXIodmFsdWUgPT4gdmFsdWUgPT09IHYpLmxlbmd0aDsKICAgICAgICByZXMucHVzaChvKTsKICAgICAgICByZXR1cm4gcmVzOwogICAgICB9LCBhbGwpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlKHRhZykgewogICAgICAvL+eCueWHu+agh+etvuS4i+mdouaWh+eroOaYvuekuuWvueW6lOeahOWGheWuuQogICAgICB0aGlzLnRnID0gdGFnOwogICAgICBpZiAodGFnID09PSAi5YWo6YOoIikgewogICAgICAgIHRoaXMuaW5mbyA9IHRoaXMuJHNpdGUucGFnZXMuZmlsdGVyKHYgPT4gdi50aXRsZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbmZvID0gdGhpcy4kc2l0ZS5wYWdlcy5maWx0ZXIodiA9PiB7CiAgICAgICAgICBsZXQgdGFncyA9IHYuZnJvbnRtYXR0ZXIudGFnczsKICAgICAgICAgIGlmICh0YWdzKSB7CiAgICAgICAgICAgIHJldHVybiB0YWdzLnNvbWUodiA9PiB2ID09PSB0YWcpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuaW5mbyA9IHRoaXMuaW5mby5zb3J0KChwcmUsIG5leHQpID0+IHsKICAgICAgICBpZiAocHJlLmxhc3RVcGRhdGVkID09PSB1bmRlZmluZWQpIHJldHVybiAxOwogICAgICAgIGlmIChuZXh0Lmxhc3RVcGRhdGVkID09PSB1bmRlZmluZWQpIHJldHVybiAtMTsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgbmV3IERhdGUobmV4dC5sYXN0VXBkYXRlZCkuZ2V0VGltZSgpIC0KICAgICAgICAgIG5ldyBEYXRlKHByZS5sYXN0VXBkYXRlZCkuZ2V0VGltZSgpCiAgICAgICAgKTsKICAgICAgfSk7CiAgICB9LAogICAgY29sb3IoKSB7CiAgICAgIC8vIOagh+etvmJ1dHRvbuminOiJsgogICAgICBsZXQgY29sb3JzID0gWwogICAgICAgICIjMzQ5OERCIiwKICAgICAgICAiIzNFQUY3QyIsCiAgICAgICAgIiM1Q0JCRjYiLAogICAgICAgICIjZjVBMjhFIiwKICAgICAgICAiI2YyQUMzQiIsCiAgICAgICAgIiNGQTY1NTEiLAogICAgICAgICIjQzY4Q0UwIgogICAgICBdOwogICAgICByZXR1cm4gY29sb3JzW3BhcnNlSW50KE1hdGgucmFuZG9tKCkgKiBjb2xvcnMubGVuZ3RoKV07CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy/lvZPot6/nlLE/dGFnPSd4eHgn5pe26IO96Ieq5Yqo6Lez6L2s5Yiw5a+55bqU5YaF5a65CiAgICBsZXQgdGFnID0gdGhpcy4kcm91dGUucXVlcnkudGFnOwogICAgaWYgKHRhZykgewogICAgICB0aGlzLmNoYW5nZSh0YWcpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jaGFuZ2UoIuWFqOmDqCIpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["Tags.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tags.vue","sourceRoot":"node_modules/vuepress-theme-reform/components","sourcesContent":["<template>\n  <div>\n    <div class=\"content default\"></div>\n    <div class=\"tag\">\n      <div class=\"items\">\n        <span\n          v-for=\"taginfo in tags\"\n          :style=\"{backgroundColor:color()}\"\n          @click=\"change(taginfo.tag)\"\n          :class=\"taginfo.tag===tg?'active':''\"\n        >{{taginfo.tag}}({{taginfo.number}})</span>\n      </div>\n      <div class=\"article-list\">\n        <Article v-for=\"tag in infos\" :tag=\"tag\" :tg=\"tg\" @turnTo=\"change\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Article from \"@theme/components/Article.vue\";\nexport default {\n  components: {\n    Article\n  },\n  data() {\n    return {\n      info: [],\n      tg: \"\"\n    };\n  },\n  computed: {\n    infos() {\n      return this.info.filter(\n        v => v.frontmatter.tags != null && v.frontmatter.tags.length > 0\n      );\n    },\n    tags() {\n      //核心代码，整合markdown中tags的数目\n      let allTags = [];\n      this.$site.pages.forEach(v => {\n        if (v.frontmatter.tags) {\n          allTags.push(v.frontmatter.tags);\n        } else if (v.frontmatter.tag) {\n          allTags.push(v.frontmatter.tag);\n        }\n      });\n      allTags = allTags.join(\",\").split(\",\");\n      let flatTags = Array.from(new Set(allTags));\n      let all = [\n        {\n          tag: \"全部\",\n          number: this.$site.pages.filter(v => v.title).length\n        }\n      ];\n      return flatTags.reduce((res, v) => {\n        let o = {};\n        o.tag = v;\n        o.number = allTags.filter(value => value === v).length;\n        res.push(o);\n        return res;\n      }, all);\n    }\n  },\n  methods: {\n    change(tag) {\n      //点击标签下面文章显示对应的内容\n      this.tg = tag;\n      if (tag === \"全部\") {\n        this.info = this.$site.pages.filter(v => v.title);\n      } else {\n        this.info = this.$site.pages.filter(v => {\n          let tags = v.frontmatter.tags;\n          if (tags) {\n            return tags.some(v => v === tag);\n          }\n        });\n      }\n      this.info = this.info.sort((pre, next) => {\n        if (pre.lastUpdated === undefined) return 1;\n        if (next.lastUpdated === undefined) return -1;\n        return (\n          new Date(next.lastUpdated).getTime() -\n          new Date(pre.lastUpdated).getTime()\n        );\n      });\n    },\n    color() {\n      // 标签button颜色\n      let colors = [\n        \"#3498DB\",\n        \"#3EAF7C\",\n        \"#5CBBF6\",\n        \"#f5A28E\",\n        \"#f2AC3B\",\n        \"#FA6551\",\n        \"#C68CE0\"\n      ];\n      return colors[parseInt(Math.random() * colors.length)];\n    }\n  },\n  mounted() {\n    //当路由?tag='xxx'时能自动跳转到对应内容\n    let tag = this.$route.query.tag;\n    if (tag) {\n      this.change(tag);\n    } else {\n      this.change(\"全部\");\n    }\n  }\n};\n</script>\n\n<style lang='stylus' scoped>\n.tag {\n  max-width: 60rem;\n  margin: 0 auto;\n  padding: 1rem 0.5rem;\n\n  .items {\n    margin-bottom: 2rem;\n\n    span {\n      vertical-align: middle;\n      cursor: pointer;\n      margin: 0.5rem 0.5rem 0.2rem;\n      padding: 0.4rem 0.7rem;\n      display: -webkit-inline-box;\n      display: -ms-inline-flexbox;\n      display: inline-flex;\n      border-radius: 0.2rem;\n      background: #fff;\n      color: #fff;\n      font-size: 1rem;\n      box-shadow: 0 1px 0.25rem 0 hsla(0, 0%, 57%, 0.21);\n      transition: all 0.3s;\n      background-color: red;\n\n      &.active {\n        transform: scale(1.2);\n      }\n\n      &:hover {\n        transform: scale(1.2);\n      }\n    }\n  }\n}\n</style>\n"]}]}